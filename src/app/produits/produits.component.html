<div style="margin-top: 1%;" class="container">
    <div class="card shadow mb-4">
        <div class="card-body">
            <table class="table table-striped-columns">
                @if (produits && produits.length > 0) {
                <thead>
                    <tr>
                        <th>N°</th>
                        <th>ID produits</th>
                        <th>Nom des produits</th>
                        <th>Prix</th>
                        <th>Date</th>
                        <th>Catégorie</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                }
                <!--tbody *ngFor="let produit of produits"-->
                @for (produit of produits; track produit.idProduit; let eltIndex=$index;let nbr=$count; let first=$first;let last = $last) {
                    
                <tbody>
                    <tr>
                        <td>{{eltIndex}}</td>
                        <td>{{produit.idProduit}}</td>
                        <td>{{produit.nomProduit}}</td>
                        <td>{{produit.prixProduit}}</td>
                        <td>{{produit.dateCreation | date:'dd/MM/yyyy'}}</td>
                        <td>{{produit.categorie?.nomCategorie}}</td>
                        <td>
                            <a (click)="supprimerProduit(produit)" class="btn btn-danger mx-auto">Supprimer</a>
                            <a [routerLink]="['/updateProduit',produit.idProduit]" class="btn btn-warning">Modifier</a>
                        </td>
                        
                    </tr>
                </tbody>
                @if ($last) {
                        <h4>Nbombre d'element(s) : {{nbr}}</h4>
                    }
                }

                @empty {
                    <h3>Aucun produit trouvé...</h3>
                }
            </table>
        </div>
    </div>
</div>